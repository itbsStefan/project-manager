(function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={i:d,l:!1,exports:{}};return a[d].call(e.exports,e,e.exports,b),e.l=!0,e.exports}var c={};return b.m=a,b.c=c,b.d=function(a,c,d){b.o(a,c)||Object.defineProperty(a,c,{configurable:!1,enumerable:!0,get:d})},b.n=function(a){var c=a&&a.__esModule?function(){return a['default']}:function(){return a};return b.d(c,'a',c),c},b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},b.p='',b(b.s=0)})([function(a,b,c){c(1),c(2),c(3),c(4)},function(){window.url='http://localhost:8080',window.$=document.querySelectorAll.bind(document),Node.prototype.on=window.on=function(a,b){this.addEventListener(a,b)},NodeList.prototype.__proto__=Array.prototype,NodeList.prototype.on=NodeList.prototype.addEventListener=function(a,b){this.forEach((c)=>{c.on(a,b)})},window.checkResponse=(a,b,c=null)=>{a.error?window.location.replace(`${url}/${b}`):a.success?c&&window.location.replace(`${url}/${c}`):a.info?window.location.reload():a.state&&window.location.replace(url+a.state)}},function(){function a(a,b){const c=a.getElementsByClassName(b)[0],d=c.getElementsByClassName('item').length;try{a.classList.remove(`-span${a.className.match(/-span(\d+)/)[1]}`)}catch(a){}a.classList.add(`-span${d}`),a.style.height=`${22*(d+2)}px`}function b(b){let c='front';b.addEventListener('dblclick',(d)=>{const e=d.target.tagName;if(~['DIV','P'].indexOf(e)){const d=b.getElementsByClassName('back'==c?'front':'back')[0],e=d.getElementsByClassName('item').length,f=b.style;'front'==c?(f.transform='rotateY( 180deg )',c='back',a(b,c)):(f.transform='rotateY( 0deg )',c='front',a(b,c))}})}const c={item(a,b,d,e=!1){e&&e.last&&e.last.parentNode.remove();const f=a.appendChild(document.createElement('li')),h=f.appendChild(document.createElement('span'));h.className='bullet',h.innerHTML='&#9679;';const i=f.appendChild(document.createElement('input'));i.className='item',i.type='text',i.value=e?e.value:'';const j=f.appendChild(document.createElementNS('http://www.w3.org/2000/svg','svg'));j.setAttribute('class','switch'),j.setAttribute('viewBox','0 0 477.175 477.175'),j.setAttribute('style','enable-background:new 0 0 477.175 477.175;');const k=j.appendChild(document.createElementNS('http://www.w3.org/2000/svg','g')),g=k.appendChild(document.createElementNS('http://www.w3.org/2000/svg','path'));g.setAttribute('fill','#f5f7fa'),g.setAttribute('d','front'===b?'M360.731,229.075l-225.1-225.1c-5.3-5.3-13.8-5.3-19.1,0s-5.3,13.8,0,19.1l215.5,215.5l-215.5,215.5   c-5.3,5.3-5.3,13.8,0,19.1c2.6,2.6,6.1,4,9.5,4c3.4,0,6.9-1.3,9.5-4l225.1-225.1C365.931,242.875,365.931,234.275,360.731,229.075z   ':'M145.188,238.575l215.5-215.5c5.3-5.3,5.3-13.8,0-19.1s-13.8-5.3-19.1,0l-225.1,225.1c-5.3,5.3-5.3,13.8,0,19.1l225.1,225   c2.6,2.6,6.1,4,9.5,4s6.9-1.3,9.5-4c5.3-5.3,5.3-13.8,0-19.1L145.188,238.575z'),d.item(i),d.bullet(h),d.itemSwitch(j),e&&e.last&&c.item(a,b,d)},async card(){const e=$('#inner')[0].appendChild(document.createElement('div'));e.classList.add('card'),e.innerHTML=`
      <div class="front inner">
        <input class="title" type="text" placeholder="Add title">
        <ul></ul>
      </div>
      <div class="back inner">
        <p class="future">Future</p>
        <div class="titleContainer">
          <div class="removeWrapper">
            <div class="remove">&#9679</div>
          </div>        
          <input class="title" type="text" placeholder="Add title">
        </div>
        <ul></ul>
      </div>
    `;const f=e.getElementsByTagName('UL');c.item(f[0],'front',d),c.item(f[1],'back',d);for(const a of e.children)d.title(a.getElementsByClassName('title')[0]);b(e),a(e,'front'),d.remove(e.getElementsByClassName('remove')[0])}},d={item(b){let e=b.value;b.addEventListener('keydown',async()=>{if(13===event.which){const f=b.parentNode.parentNode.parentNode,g=f.className.match(/back/)?'back':'front',h=f.getElementsByTagName('UL')[0],i=f.getElementsByClassName('title')[0].value,j=h.children[h.children.length-1].children[1];j===b&&(c.item(h,g,d),a(f.parentNode,g)),e=b.value}})},title(a){let b=a.value;a.addEventListener('keydown',async()=>{if(13===event.which){20<=a.value.length&&alert(`The title "${a.value}" will probably be cut off as its too long.
							${a.value.length}`);const c=a.parentNode.parentNode.getElementsByClassName('inner'),d=a.parentNode.parentNode.className.match(/inner/)?'back':'front',e='front'==d?a.parentNode.parentNode.getElementsByClassName('back')[0].getElementsByClassName('title')[0]:a.parentNode.parentNode.parentNode.getElementsByClassName('front')[0].getElementsByClassName('title')[0];e.value=a.value,b=a.value}})},bullet(b){async function c(){const c=b.parentNode.getElementsByClassName('item')[0].value,d=b.parentNode.parentNode.parentNode.className.match(/back/)?'back':'front',e='back'==d?b.parentNode.parentNode.parentNode.getElementsByClassName('title')[0].value:b.parentNode.parentNode.parentNode.getElementsByClassName('title')[0].value,f=b.parentNode.parentNode.parentNode.parentNode;b.parentNode.remove(),a(f,d)}b.addEventListener('mouseenter',()=>{b.style='color: #333;',b.addEventListener('click',c)}),b.addEventListener('mouseleave',()=>{b.style='color: #F5F7FA',b.removeEventListener('click',c)})},itemSwitch(a,b=!1){async function e(){const b=a.parentNode.getElementsByClassName('item')[0],e=a.parentNode.parentNode.parentNode,f=e.className.match(/back/)?'back':'front',g='back'==f?'front':'back',h=e.getElementsByClassName('title')[0],i=a.parentNode.parentNode.parentNode.parentNode,j=i.getElementsByClassName(g)[0],k=j.getElementsByTagName('UL')[0].children,l=k[k.length-1].getElementsByClassName('item')[0],m={value:b.value};''===l.value&&(m.last=l),c.item(j.getElementsByTagName('UL')[0],j,d,m),b.parentNode.remove()}a.addEventListener('mouseenter',()=>{a.addEventListener('click',e)}),a.addEventListener('mouseleave',()=>{a.removeEventListener('click',e)})},remove(a){a.addEventListener('click',async()=>{if(window.confirm('Do you want to remove the card?')){const b=a.parentNode.parentNode.parentNode.parentNode,c=b.getElementsByClassName('title')[0].value;b.remove()}})}};(function(){const c=$('.item'),e=$('.title'),f=$('.bullet'),g=$('.switch'),h=$('.remove'),i=$('.card');for(const a of c)d.item(a);for(const a of e)d.title(a);for(const a of f)d.bullet(a);for(const a of g)d.itemSwitch(a);for(const a of h)d.remove(a);for(const c of i){c.className;b(c),a(c,'front')}})()},function(){},function(){}]);